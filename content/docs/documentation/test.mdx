---
title: Code Hike
description: Testing
---

# Scrollycoding

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

<CH.Scrollycoding>

## Step 1

Lorem ipsum dolor sit amet, consectetur adipiscing something about points, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.

> Nova in illis at dabat legi harundine non, ova miratur? _Quid in_ sole aer
> ad diffusa illis voluisti fidensque coniugiale laniata curam. Aras rivus
> eripuit, qua fistula haec partus; serpens, negat.

Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus.

```js app.js focus=3:10
const { lorem, ipsum } = dolor({
  sit: {
    amet: 1,
    consectetur: 2,
    adipiscing: (elit) => ({
      sed: elit,
    }),
    eiusmod: (tempor) => ({
      incididunt: tempor,
    }),
    ut: (labore) => ({
      et: labore,
      dolore: labore + 1,
    }),
    magna: (aliqua) => ({
      ut: aliqua,
    }),
    nostrud: (elit) => ({
      exercitation: elit,
      ullamco: elit,
    }),
    laboris: (elit) => ({
      nisi: elit,
    }),
  },
})
```

---

## Step 2

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in.

Praesent elementum facilisis leo vel fringilla est ullamcorper eget.

Id aliquet risus feugiat in ante metus dictum at tempor. Sed blandit libero volutpat sed cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in. Nibh cras pulvinar mattis nunc sed. Luctus accumsan tortor posuere ac ut consequat semper viverra. Fringilla ut morbi tincidunt augue interdum velit euismod.

Morbi quis commodo.

```js app.js focus=11:17

```

---

## Step 3

Id aliquet risus feugiat in ante metus dictum at tempor. Sed blandit libero volutpat sed cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu.

- Nisi lacus sed viverra tellus in
- Nibh cras pulvinar mattis nunc sed
- Luctus accumsan tortor posuere ac

Ut consequat semper viverra. Fringilla ut morbi tincidunt augue interdum velit euismod.

```js app.js focus=11:14
const { lorem, ipsum } = dolor({
  sit: {
    amet: 1,
    consectetur: 2,
    adipiscing: (elit) => ({
      sed: elit,
    }),
    eiusmod: (tempor) => ({
      incididunt: tempor,
    }),
    ut: (labore) => ({
      et: lorem(labore * ipsum),
      dolore: lorem(labore + 1),
    }),
    nostrud: (elit) => ({
      exercitation: elit,
      ullamco: elit,
    }),
    laboris: (elit) => ({
      nisi: elit,
    }),
  },
})
```

---

## Step 4

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in. Venenatis cras sed felis eget velit. Consectetur libero id faucibus nisl tincidunt.

Sed blandit libero volutpat sed cras.

- Nisi lacus sed viverra tellus in
- Nibh cras pulvinar mattis nunc sed

Gravida in fermentum et sollicitudin ac orci phasellus egestas tellus. Volutpat consequat mauris nunc congue nisi vitae.

```js app.js focus=15:21

```

---

## Step 5

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in.

Praesent elementum facilisis leo vel fringilla est ullamcorper eget.

Id aliquet risus feugiat in ante metus dictum at tempor. Sed blandit libero volutpat sed cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Velit euismod in pellentesque massa placerat.

Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in. Nibh cras pulvinar mattis nunc sed. Luctus accumsan tortor posuere ac ut consequat semper viverra.

- Fringilla ut morbi tincidunt augue interdum velit euismod.
- Luctus accumsan tortor posuere ac ut consequat semper viverra.

Morbi quis commodo.

```js app.js

```

</CH.Scrollycoding>

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

# Spotlight

This is how to use the `<CH.Spotlight>` component. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quia! Quidem, quisquam.

<CH.Spotlight>

```js app.js
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null && 0
  dolor = sit - amet(dolor)
  return sit ? consectetur(ipsum) : []
}
```

---

Change focus

```js app.js focus=2:4

```

---

Or change the code

```js app.js focus=6:10
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null && 0
  dolor = sit - amet(dolor)
  return sit ? consectetur(ipsum) : []
}

function adipiscing(...elit) {
  console.log(elit)
  return elit.map((ipsum) => ipsum.sit)
}
```

---

Or change the file

<CH.Code>

```js app.js focus=1:4
function adipiscing(...elit) {
  console.log(elit)
  return elit.map((ipsum) => ipsum.sit)
}
```

---

```css styles.css
.lorem {
  color: #fff;
  padding: 10px;
  background: #000;
}
```

</CH.Code>

---

### By the way

- you can
- put any
- markdown
- here

üëç

```js app.js

```

</CH.Spotlight>

# Slideshow with preview

This is how to use the `<CH.Sildeshow>` component. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quia! Quidem, quisquam.

<CH.Slideshow preset="https://codesandbox.io/s/rfdho" code={{minZoom: 0.5}}>

<CH.Code>

```jsx src/index.js
import React from "react"
import ReactDOM from "react-dom"

const app = React.createElement(
  "h1",
  { style: { color: "teal" } },
  "Hello React"
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

React provides a createElement function to declare what we want to render to the DOM

---

<CH.Code>

```jsx src/index.js focus=4
import React from "react"
import ReactDOM from "react-dom"

const app = <h1 style={{ color: "teal" }}>Hello React</h1>

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

But instead of using createElement directly you can use JSX.

---

<CH.Code>

```jsx src/index.js focus=4:10
import React from "react"
import ReactDOM from "react-dom"

function MyComponent() {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = <h1 style={{ color: "teal" }}>Hello React</h1>

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

To create a component you only need to write a function with a name that starts with a capital letter.

---

<CH.Code>

```jsx src/index.js focus=4[10:20],12:17
import React from "react"
import ReactDOM from "react-dom"

function MyComponent() {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent />
    <MyComponent />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

Now you can use that function in JSX.

---

<CH.Code>

```jsx src/index.js focus=14[18:29],15[18:31]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent() {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

You can assign attributes

---

<CH.Code>

```jsx src/index.js focus=4[22:29],14[18:29],15[18:31]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

And React will pass them to the component as parameters

---

<CH.Code>

```jsx src/index.js focus=4[22:29],7
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  return (
    <div>
      <button>{name}</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

Inside JSX, you use curly braces to wrap dynamic data

---

<CH.Code>

```jsx src/index.js focus=5,9
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const goalCount = 2
  return (
    <div>
      <button>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

In fact you can wrap any javascript expression.

---

<CH.Code>

```jsx src/index.js focus=7:9,13[15:35]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const goalCount = 2

  const handleClick = (event) => {
    // do something
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

To add event listeners you pass a function to the corresponding attribute

---

<CH.Code>

```jsx src/index.js focus=5
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    // do something
  }
  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

To add state to a component there's the useState function from React.

---

<CH.Code>

```jsx src/index.js focus=5,7:9
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

It gives you a function to update the state.

---

<CH.Code>

```jsx src/index.js focus=5,7:9,13,14

```

</CH.Code>

When you call it, React will know it needs to re-render the component.

---

<CH.Code>

```jsx src/index.js focus=19
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

To render a list

---

<CH.Code>

```jsx src/index.js focus=19,23[6:34],24,25[1:6]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

const app = (
  <div>
    {players.map((playerName) => (
      <MyComponent name={playerName} key={playerName} />
    ))}
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

you can map each list item to an element using javascript.

---

<CH.Code>

```jsx src/index.js focus=24[38:54]

```

</CH.Code>

React only needs a unique key for each element, to find out when something changes.

---

<CH.Code>

```jsx src/index.js focus=21:27,30,34
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

function MyBox() {
  return <div style={{ border: "8px solid deeppink" }}>// TODO something</div>
}

const app = (
  <MyBox>
    {players.map((playerName) => (
      <MyComponent name={playerName} key={playerName} />
    ))}
  </MyBox>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

If you want to compose components together

---

<CH.Code>

```jsx src/index.js focus=21[16:27],24,30:34
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

function MyBox({ children }) {
  return <div style={{ border: "8px solid deeppink" }}>{children}</div>
}

const app = (
  <MyBox>
    {players.map((playerName) => (
      <MyComponent name={playerName} key={playerName} />
    ))}
  </MyBox>
)

ReactDOM.render(app, document.getElementById("root"))
```

</CH.Code>

React passes the nested elements inside a special property called children.

</CH.Slideshow>

# Code Links

Lorem ipsum dolor sit amet.

<CH.Section>

Consectetur adipiscing elit, sed do eiusmod tempor [incididunt](focus://4:7) ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. _`rem(ipsum, dol`_ xxx
_`orem`_, xxx _`sum`_

```js
function lorem(ipsum, dolor) {
  const sit = "lorem ipsum"
  dolor = elit(dolor, 3)
  while (++consectetur < amet) {
    sit.eiusmod(150)
    tempor(ipsum, adipiscing)
  }
}
```

Duis aute irure dolor in reprehenderit in voluptate velit esse cillum [dolore](focus://1[23:27],3) eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.

</CH.Section>

## With multiple files

<CH.Section>

Lorem dolor sit amet, [javascript](focus://index.js#2:3) adipiscing elit, sed do eiusmod [styles](focus://styles.css#2:3) incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

<CH.Code lineNumbers={true}>

```js index.js
function lorem(ipsum, dolor) {
  const sit = ipsum - amet(dolor)
  return sit + "lorem ipsum"
}
```

```css styles.css
.lorem-ipsum > .dolor pre {
  background-color: var(--color-bg);
  padding: 1em 0px 10vh 300px;
}
```

</CH.Code>

_`ackground-color: va`_

</CH.Section>

# Code

<CH.Section>

{/* prettier-ignore */}
```js
const PostLayout = ({ post }) => {
  const MDXContent = useMDXComponent(
    post.body.code
  )
  return (
    <article style={{ width: 600 }}>
      <h1>{post.title}</h1>
      <MDXContent />
    </article>
  )
}
```

It transforms the _`post.body.code`_ into a React component.

</CH.Section>

`<CH.Code lineNumbers showCopyButton={false} className="foobar">`

<CH.Code lineNumbers showCopyButton={false} className="foobar">

```js
console.log(1)
```

</CH.Code>

`<CH.Code lineNumbers={false} showCopyButton={true} className="foo">`

<CH.Code lineNumbers={false} showCopyButton={true} className="foo">

```js index.js
console.log(2)
```

```python foo.py
print(3)
```

---

```html index.html
<div>Hi</div>
```

</CH.Code>

one line:

```js
const x = 2
```

no editor:

```js
function foo() {
  return 2
}
```

one file editor:

```js foo.js
function foo() {
  return 2
}
```

two files:

<CH.Code>

```js foo.js
function foo() {
  return 2
}
```

```js bar.js
function bar() {
  return 2
}
```

</CH.Code>

two panels:

<CH.Code>

```js foo.js
function foo() {
  return 2
}
```

---

```js bar.js
function bar() {
  return 2
}
```

</CH.Code>

`<CH.Code className="foobarbazbarbar" style={{border: "2px solid red", height: 160}}>`

<CH.Code className="foobarbazbarbar" style={{border: "2px solid red", height: 160}}>

```js index.js
console.log(2)
console.log(2)
console.log(2)
console.log(2)
console.log(2)
console.log(2)
console.log(2)
console.log(2)
console.log(2)
console.log(2)
```

</CH.Code>

one line:

```js
const x = 2
```

no editor:

```js
function foo() {
  return 2
}
```

one file editor:

```js foo.js
function foo() {
  return 2
}
```

two files:

<CH.Code>

```js foo.js
function foo() {
  return 2
}
```

```js bar.js
function bar() {
  return 2
}
```

</CH.Code>

two panels:

<CH.Code>

```js foo.js
function foo() {
  return 2
}
```

---

```js bar.js
function bar() {
  return 2
}
```

</CH.Code>

<CH.Code>

```json package.json
{
  "name": "package.json"
}
```

```js pages/index.js
function IndexPage() {
  return 1
}
```

```js pages/post/[slug].js
function PostPage() {
  return 1
}
```

---

```js pages/alpha.ts
function AlphaPage() {
  return 1
}
```

```css src/styles.css
.alpha {
  color: red;
}
```

```js src/comp.js
function AlphaPage() {
  return <div className="alpha">1</div>
}
```

</CH.Code>

<CH.Scrollycoding>

# Prebuilt Checkout page

<CH.Code>

```rb server.rb
require 'stripe'
require 'sinatra'

# This is a public sample test API key.
# Don‚Äôt submit any personal information in requests made with this key.
# Sign in to see your own test API key embedded in code samples.
Stripe.api_key = 'sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y'

set :static, true
set :port, 4242

YOUR_DOMAIN = 'http://localhost:4242'

post '/create-checkout-session' do
  content_type 'application/json'

  session = Stripe::Checkout::Session.create({
    line_items: [{
      # Provide the exact Price ID (e.g. pr_1234) of the product
      price: '{{PRICE_ID}}',
      quantity: 1,
    }],
    mode: 'payment',
    success_url: YOUR_DOMAIN + '/success.html',
    cancel_url: YOUR_DOMAIN + '/cancel.html',
  })
  redirect session.url, 303
end
```

{/* prettier-ignore */}
```html checkout.html
<!DOCTYPE html>
<html>
  <head>
    <title>Buy cool new product</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch"></script>
    <script src="https://js.stripe.com/v3/"></script>
  </head>
  <body>
    <section>
      <div class="product">
        <img
          src="https://i.imgur.com/EHyR2nP.png"
          alt="The cover of Stubborn Attachments"
        />
        <div class="description">
          <h3>Stubborn Attachments</h3>
          <h5>$20.00</h5>
        </div>
      </div>
      <form action="/create-checkout-session" method="POST">
        <button type="submit" id="checkout-button">Checkout</button>
      </form>
    </section>
  </body>
</html>
```

{/* prettier-ignore */}
```html success.html
<!DOCTYPE html>
<html>
<head>
  <title>Thanks for your order!</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <section>
    <p>
      We appreciate your business!
      If you have any questions, please email
      <a href="mailto:orders@example.com">orders@example.com</a>.
    </p>
  </section>
</body>
</html>
```

{/* prettier-ignore */}
```html cancel.html
<!DOCTYPE html>
<html>
<head>
  <title>Checkout canceled</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <section>
    <p>Forgot to add something to your cart? Shop around then come back to pay!</p>
  </section>
</body>
</html>
```

</CH.Code>

Explore a full, working code sample of an integration with [Stripe Checkout](https://stripe.com/docs/payments/checkout). The client- and server-side code redirects to a prebuilt payment page hosted on Stripe.

Before you get started, confirm the payment methods you want to offer in your [payment method settings](https://dashboard.stripe.com/settings/payment_methods). We enable cards and other common payment methods for you by default, and we recommend that you enable additional payment methods that are relevant for your business and customers.

---

## Set up the server

### Install the Stripe Ruby library

```rb server.rb focus=4:7 mark=4:7

```

Install the Stripe ruby gem and require it in your code. Alternatively, if you‚Äôre starting from scratch and need a Gemfile, download the project files using the link in the code editor.

---

### Create a Checkout Session

Add an endpoint on your server that creates a [Checkout Session](https://stripe.com/docs/api/checkout/sessions). A Checkout Session controls what your customer sees on the payment page such as line items, the order amount and currency, and acceptable payment methods. We enable cards and other common payment methods for you by default, and you can enable or disable payment methods directly in the [Stripe Dashboard](https://dashboard.stripe.com/settings/payment_methods).

```rb server.rb focus=17:27 mark=17:27

```

---

### Define a product to sell

```rb server.rb focus=18:22 mark=18:22

```

Always keep sensitive information about your product inventory, such as price and availability, on your server to prevent customer manipulation from the client. Define product information when you create the Checkout Session using [predefined price IDs](https://stripe.com/docs/payments/accept-a-payment?platform=web&ui=checkout#create-product-prices-upfront) or on the fly with [price_data](https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-line_items-price_data).

---

### Choose the mode

```rb server.rb focus=23 mark=23

```

Checkout has three modes: `payment`, `subscription`, or `setup`. Use `payment` mode for one-time purchases. Learn more about [subscription](https://stripe.com/docs/billing/subscriptions/build-subscriptions) and [setup](https://stripe.com/docs/payments/save-and-reuse?platform=checkout) modes in the docs.

---

### Supply success and cancel URLs

```rb server.rb focus=24:25 mark=24:25

```

Specify URLs for success and cancel pages‚Äîmake sure they‚Äôre publicly accessible so Stripe can redirect customers to them. You can also handle both the success and canceled states with the same URL.

---

### Redirect to Checkout

```rb server.rb focus=27 mark=27

```

After creating the session, redirect your customer to the URL for the Checkout page returned in the response.

---

## Build your checkout

### Add a success page

```html success.html focus=7:15 mark=7:15

```

Create a success page for the URL you provided as the Checkout Session success_url to display order confirmation messaging or order details to your customer. Stripe redirects to this page after the customer successfully completes the checkout.

---

### Add a canceled page

```html cancel.html focus=7:11 mark=7:11

```

Add another page for `cancel_url`. Stripe redirects to this page when the customer clicks the back button in Checkout.

---

### Add an order preview page

```html checkout.html focus=11:20 mark=11:20

```

Finally, add a page to show a preview of the customer‚Äôs order. Allow them to review or modify their order‚Äîas soon as they‚Äôre sent to the Checkout page, the order is final and they can‚Äôt modify it without creating a new Checkout Session.

---

### Add a checkout button

```html checkout.html focus=21:23 mark=21:23

```

Add a button to your order preview page. When your customer clicks this button, they‚Äôre redirected to the Stripe-hosted payment page.

---

## Congratulations!

You have a basic Checkout integration working. Learn how to customize the appearance of your checkout page.

## Next steps

#### [Fulfillment](https://stripe.com/docs/payments/checkout/fulfill-orders)

Set up a webhook to fulfill orders after a payment succeeds. Webhooks are the most reliable way to handle business-critical events.

#### [Payouts](https://stripe.com/docs/payouts)

Learn how to move funds out of your Stripe account into your bank account.

#### [Refunds](https://stripe.com/docs/refunds)

Handle requests for refunds by using the Stripe API or Dashboard.

</CH.Scrollycoding>

<div style={{ height: 99 }} />
